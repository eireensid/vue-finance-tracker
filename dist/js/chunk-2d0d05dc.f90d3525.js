(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d05dc"],{6859:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"page-title"},[n("h3",[e._v(e._s(e.localize("Menu_Planning")))]),e.loading?e._e():n("h4",[e._v(e._s(e.getCurrencySign("RUB",e.info.bill)))])]),e.loading?n("Loader"):e.categories.length?n("section",e._l(e.categories,(function(t){return n("div",{key:t.id},[n("p",[n("strong",[e._v(e._s(t.title))]),e._v(" "+e._s(e.getCurrencySign("RUB",t.spend))+" из "+e._s(e.getCurrencySign("RUB",t.limit))+" ")]),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip,expression:"cat.tooltip"}],staticClass:"progress"},[n("div",{staticClass:"determinate",class:[t.progressColor],style:{width:t.progressPercent+"%"}})])])})),0):n("p",{staticClass:"center"},[e._v(e._s(e.localize("NoCategories"))+" "),n("router-link",{attrs:{to:"/categories"}},[e._v(e._s(e.localize("AddFirst")))])],1)],1)},i=[],a=n("1da1"),s=n("5530"),o=(n("96cf"),n("d81d"),n("4de4"),n("99af"),n("2f62")),c=n("34d1"),l={name:"Planning",metaInfo:function(){return{title:this.$title("Menu_Planning")}},data:function(){return{loading:!0,categories:[]}},mixins:[c["a"]],computed:Object(s["a"])({},Object(o["c"])(["info"])),created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchRecords");case 2:return n=t.sent,t.next=5,e.$store.dispatch("fetchCategories");case 5:r=t.sent,e.categories=r.map((function(t){var r=n.filter((function(e){return e.categoryId===t.id})).filter((function(e){return"expense"===e.type})).reduce((function(e,t){return e+ +t.amount}),0),i=100*r/t.limit,a=i>100?100:i,o=i<60?"green":i<100?"yellow":"red",c=t.limit-r,l="".concat(c<0?"Превышение на":"Осталось"," ").concat(e.getCurrencySign("RUB",Math.abs(c)));return Object(s["a"])(Object(s["a"])({},t),{},{progressPercent:a,progressColor:o,spend:r,tooltip:l})})),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}},u=l,d=n("2877"),g=Object(d["a"])(u,r,i,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d0d05dc.f90d3525.js.map